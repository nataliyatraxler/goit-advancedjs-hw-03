{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst API_KEY = '46595467-38d51347a919535f7c3759bfb';\n\nexport function fetchImages(query) {\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL)\n    .then(response => response.json())\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Error:', error);\n      return [];\n    });\n}\n","export function displayImages(images) {\n  const gallery = document.getElementById('image-gallery');\n  gallery.innerHTML = ''; // Очищення попередніх зображень\n\n  images.forEach(image => {\n    const imgElement = document.createElement('a');\n    imgElement.href = image.largeImageURL; // Для SimpleLightbox\n    imgElement.classList.add('gallery-item');\n\n    imgElement.innerHTML = `\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      <div class=\"image-info\">\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\n        <p><strong>Likes:</strong> ${image.likes}</p>\n        <p><strong>Views:</strong> ${image.views}</p>\n        \n      </div>\n    `;\n\n    gallery.appendChild(imgElement); // Додаємо новий елемент у галерею\n  });\n}\n\nexport function clearGallery() {\n  const gallery = document.getElementById('image-gallery');\n  gallery.innerHTML = ''; // Очищення вмісту галереї ..\n}\n","import { fetchImages } from './js/pixabay-api.js'; // Import function for fetching images\nimport { displayImages, clearGallery } from './js/render-functions.js'; // Import functions for rendering and clearing gallery\nimport iziToast from 'izitoast'; // Import iziToast for notifications\nimport 'izitoast/dist/css/iziToast.min.css'; // Import styles for iziToast\nimport SimpleLightbox from 'simplelightbox';\n\n// Create a loading indicator\nconst loader = document.createElement('div');\nloader.classList.add('loader');\nloader.innerHTML = '<div class=\"lds-dual-ring\"></div>';\ndocument.body.appendChild(loader);\nloader.style.display = 'none';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  let lightbox;\n\n  // Handle the submit event instead of click\n  const form = document.querySelector('.search-container form');\n  form.addEventListener('submit', async function (event) {\n    event.preventDefault(); // Prevent the default form submission behavior\n\n    const queryInput = document.getElementById('search-input');\n    const query = queryInput.value.trim(); // Trim leading and trailing spaces\n\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a valid search query!',\n      });\n      return;\n    }\n\n    clearGallery(); // Clear the gallery before the new search\n    loader.style.display = 'block'; // Show the loading indicator\n\n    try {\n      const images = await fetchImages(query);\n\n      if (images.length > 0) {\n        displayImages(images); // Display images\n\n        // Initialize or refresh SimpleLightbox\n        if (lightbox) {\n          lightbox.refresh();\n        } else {\n          lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n        }\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, no images matching your search query. Please try again!',\n        });\n      }\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n      console.error('Error:', error);\n    } finally {\n      loader.style.display = 'none'; // Hide the loading indicator after completion\n      queryInput.value = ''; // Clear the search input field\n    }\n  });\n});\n"],"names":["API_KEY","fetchImages","query","URL","response","data","error","displayImages","images","gallery","image","imgElement","clearGallery","loader","lightbox","event","queryInput","iziToast","SimpleLightbox"],"mappings":"6vBACA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAE9D,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,IACL,QAAQ,MAAM,SAAUA,CAAK,EACtB,GACR,CACL,CCbO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,eAAe,EACvDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAa,SAAS,cAAc,GAAG,EAC7CA,EAAW,KAAOD,EAAM,cACxBC,EAAW,UAAU,IAAI,cAAc,EAEvCA,EAAW,UAAY;AAAA,kBACTD,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,yCAEfA,EAAM,SAAS;AAAA,qCACnBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA;AAAA;AAAA,MAK5CD,EAAQ,YAAYE,CAAU,CAClC,CAAG,CACH,CAEO,SAASC,GAAe,CAC7B,MAAMH,EAAU,SAAS,eAAe,eAAe,EACvDA,EAAQ,UAAY,EACtB,CCnBA,MAAMI,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,UAAY,oCACnB,SAAS,KAAK,YAAYA,CAAM,EAChCA,EAAO,MAAM,QAAU,OAEvB,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,IAAIC,EAGS,SAAS,cAAc,wBAAwB,EACvD,iBAAiB,SAAU,eAAgBC,EAAO,CACrDA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAAS,eAAe,cAAc,EACnDd,EAAQc,EAAW,MAAM,KAAI,EAEnC,GAAId,IAAU,GAAI,CAChBe,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACD,MACD,CAEDL,IACAC,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAML,EAAS,MAAMP,EAAYC,CAAK,EAElCM,EAAO,OAAS,GAClBD,EAAcC,CAAM,EAGhBM,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAII,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GAC1B,CAAW,GAGHD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gEACnB,CAAS,CAEJ,OAAQX,EAAO,CACdW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,EACD,QAAQ,MAAM,SAAUX,CAAK,CACnC,QAAc,CACRO,EAAO,MAAM,QAAU,OACvBG,EAAW,MAAQ,EACpB,CACL,CAAG,CACH,CAAC"}